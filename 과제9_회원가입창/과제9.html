<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>회원가입</title>
    </head>
    <style>
        @import 
               url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;600&display=swap');
               body{
                   font-family: 'Noto Sans KR',sans-serif;
                   font-weight: 300;
                   font-size: 15px;
               }
               p{
                font-weight: 600;
               }
           </style>
    <body>
        <h3>회원 가입</h3>
        <hr>
        <form name="fm">
            <p>아이디와 비밀번호는 5자리 이상 15자리 이하로 입력해 주세요.</p><br>
            이 　 름 : <input id="name" type="text" size="13" value="" maxlength="15" required><br>
            아  이  디 : <input id="ID" type="text" size="13" value="" maxlength="15" onblur="checkLength(this)"><br>
            비밀번호 : <input id="pwd" type="password" size="13" value="" maxlength="15" disabled onblur="checkLength(this)"><br>
            전화번호 : <input id="tel" type="tel" size="13" placeholder="010-1234-5678" required pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}"><br>
            회원 유형 :
            <input type="radio" name="type" onclick="findChecked()">개인
            <input type="radio" name="type" onclick="findChecked()">기업<br>
            소 　 속 : <input id="company" type="text" size="13" value="" required><br>
            <input type="submit" value="완료">
        </form>
    </body>
    <script>
        function findChecked(){
            var type = document.getElementsByName("type");
            var company = document.getElementById("company");

            if(type[0].checked==true){
                company.disabled=true;
            }else if(type[1].checked==true){
                alert("소속을 입력하세요.");
                company.disabled=false;
                checkFilled(company);
            }else{
                alert("회원 유형을 선택하세요.");
            }
        }

        function checkFilled(obj){
            if(obj.value==""){
                obj.focus();
            }
        }

        function checkLength(obj){
            if(obj.value.length<5){
                alert("입력 길이가 너무 짧습니다.");
                //alert가 중복 실행되는 것을 방지하기 위해 timeout 적용
                setTimeout(function(){
                obj.focus();},10)
            }else if(obj.value.length>=5&&obj.id=="ID"){ 
                /*id가 올바르게 입력된 경우 pwd 창을 사용할 수 있도록 설정
                pwd의 disabled 속성이 처음부터 true인 경우,
                id에서 pwd로 넘어갈 때 alert가 무한으로 뜨는 오류 발생 */
                var pwd = document.getElementById("pwd");
                pwd.disabled=false;
            }
        }
    </script>
</html>